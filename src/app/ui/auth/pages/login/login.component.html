<main class="bg-[#3f51b5] w-screen h-screen flex items-center justify-center">
  <section class="w-96 flex flex-col bg-slate-200 shadow-md rounded-md">
    <mat-card appearance="outlined" class="p-5">
      <div class="sm:mx-auto sm:w-full sm:max-w-sm">
        <img
          class="mx-auto h-10 w-auto"
          src="https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600"
          alt="Your Company" />
        <h2 class="mt-2 mb-4 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900">Ingresa a tu cuenta</h2>
      </div>

      <form [formGroup]="form" novalidate (ngSubmit)="onSubmit()">
        <mat-card-content>
          <mat-form-field class="w-full mb-2">
            <mat-label>Correo</mat-label>
            <input matInput placeholder="Digite un correo valido" autocomplete="off" formControlName="email" />
            <mat-error
              class="text-xs text-red-600"
              *ngIf="form.get('email')?.touched && form.get('email')?.hasError('email')">
              Por favor ingrese un correo válido
            </mat-error>
            <mat-error
              class="text-xs text-red-600"
              *ngIf="form.get('email')?.touched && form.get('email')?.hasError('required')">
              El correo <strong>es requerido</strong>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="w-full">
            <mat-label>Contraseña</mat-label>
            <input
              matInput
              [type]="showPassword ? 'text' : 'password'"
              placeholder="Digite una contraseña valida"
              formControlName="password" />
            <button type="button" matSuffix mat-icon-button (click)="showPassword = !showPassword">
              <mat-icon *ngIf="showPassword">visibility</mat-icon>
              <mat-icon *ngIf="!showPassword">visibility_off</mat-icon>
            </button>
            <mat-error
              class="text-xs text-red-600"
              *ngIf="form.get('password')?.touched && form.get('password')?.hasError('minlength')">
              Digite mínimo <strong>6 caracteres</strong>
            </mat-error>
            <mat-error
              class="text-xs text-red-600"
              *ngIf="form.get('password')?.touched && form.get('password')?.hasError('required')">
              La Contraseña <strong>es requerida</strong>
            </mat-error>
          </mat-form-field>

          <section class="flex w-full justify-center mt-2">
            <button
              *ngIf="!showSpinner"
              [ngClass]="{ 'bg-slate-400 hover:bg-slate-400': form.invalid }"
              [disabled]="form.invalid"
              class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-4 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
              color="primary"
              type="submit">
              Iniciar sesión
            </button>
          </section>
          <ng-container>
            <section class="flex w-full justify-center py-4">
              <mat-spinner [diameter]="48" *ngIf="!showSpinner" />
            </section>
          </ng-container>
        </mat-card-content>
      </form>
    </mat-card>
  </section>
</main>
